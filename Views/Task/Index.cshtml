@model TaskHub.Models.TaskViewModel.IndexModel

@{
    ViewData["Title"] = "Team Dashboard";
}

<div class="container mt-4">
    <div class="row">
        <div class="col-md-8">
            <div class="card shadow-sm">
                <div class="card-header bg-primary text-white">
                    <h4 class="mb-0">Team: @Model.TeamModel.Name</h4>
                </div>
                <div class="card-body">
                    <p><strong>Created:</strong> @Model.TeamModel.CreatedDate.ToString("dd MMM yyyy")</p>
                    <p><strong>Members:</strong> @Model.TeamModel.Users.Count</p>
                </div>
            </div>

            <div class="card shadow-sm mt-4">
                <div class="card-header bg-success text-white">
                    <h4 class="mb-0">Tasks</h4>
                </div>
                <div class="card-body">
                    @if (Model.TaskList.Any())
                    {
                        <ul class="list-group">
                            @foreach (var task in Model.TaskList)
                            {
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    <span>@task.Title</span>
                                    <span class="badge bg-secondary">@task.IsComplete</span>
                                </li>
                            }
                        </ul>
                    }
                    else
                    {
                        <p class="text-muted">No tasks available.</p>
                    }
                </div>
            </div>
        </div>
    </div>
</div>

@* <script>
    function generateInvite() {
        let teamId = document.getElementById("teamId").value;
        fetch("/generate-invite", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(teamId)
        })
        .then(response => response.json())
        .then(data => {
            document.getElementById("inviteLink").value = data.link;
            navigator.clipboard.writeText(data.link);
            alert("Invite link copied to clipboard!");
        })
        .catch(error => console.error("Error generating invite:", error));
    }
</script> *@
